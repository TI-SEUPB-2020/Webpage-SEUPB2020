CREATE DATABASE seupb_photos CHARACTER SET utf8 COLLATE utf8_spanish_ci;

CREATE TABLE registered_students (
	code INT(5) NOT NULL PRIMARY KEY,
	names VARCHAR(100) NOT NULL,
	last_names VARCHAR(100) NOT NULL,
	id_school INT(2) NOT NULL,
	voted BOOLEAN NOT NULL,
	FOREIGN KEY (id_school) REFERENCES schools(id_school)
);

CREATE TABLE images (
	id_image INT(5) NOT NULL PRIMARY KEY,
	id_school INT(2) NOT NULL,
	url VARCHAR(200) NOT NULL,
	description TEXT NOT NULL,
	votes INT(4) NOT NULL,
	FOREIGN KEY (id_school) REFERENCES schools(id_school)
);

CREATE TABLE schools (
	id_school INT(2) NOT NULL PRIMARY KEY,
	school_name VARCHAR(100) NOT NULL
);


CREATE TABLE votes (
	id_vote INT(7) NOT NULL PRIMARY KEY AUTO_INCREMENT,
	id_user INT(5) NOT NULL,
	id_school INT(2) NOT NULL,
	date DATETIME,
	FOREIGN KEY (id_user) REFERENCES schools(id_school),
	FOREIGN KEY (id_school) REFERENCES schools(id_school)
);

INSERT INTO schools VALUES ('1','ADMI');
INSERT INTO schools VALUES ('2','COMERCIAL');
INSERT INTO schools VALUES ('3','COMUNICACION');
INSERT INTO schools VALUES ('4','CSJ');
INSERT INTO schools VALUES ('5','DISENO');
INSERT INTO schools VALUES ('6','DTI');
INSERT INTO schools VALUES ('7','EIE');
INSERT INTO schools VALUES ('8','FINANCIERA');
INSERT INTO schools VALUES ('9','MARKETING');
INSERT INTO schools VALUES ('10','MEE');

INSERT INTO registered_students VALUES ('42641','Weimar Alexander','Torres Herrera','6','false');
